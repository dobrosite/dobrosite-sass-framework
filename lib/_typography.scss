/**
 * Типографика.
 */

@import "adaptive";

/**
 * Возвращает мультипликатор размера заголовка.
 *
 * @param $level Уровень заголовка (1, 2, 3…).
 * @param $ratio Используемое отношение (см. $heading-ratio-…).
 */
@function heading-size-multiplier($level, $ratio)
{
    @if $level == 1 {
        @return $ratio * $ratio * $ratio;
    }
    @if $level == 2 {
        @return $ratio * $ratio;
    }
    @if $level == 3 {
        @return $ratio;
    }
    @if $level == 4 {
        @return 1;
    }
    @if $level == 5 {
        @return 1 / $ratio;
    }
    @return 1 / $ratio / $ratio;
}

/**
 * Задаёт размер шрифта заголовка.
 *
 * @param $level Уровень заголовка (1, 2, 3…).
 */
@mixin heading-font-size($level)
{
    $step: $base-font-size / 2;

    $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-default);
    font-size: $font-size;
    line-height: ceil($heading-base-height * $font-size / $step) * $step;

    @include for-phone-and-wider {
        $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-phone);
        font-size: $font-size;
        line-height: ceil($heading-base-height * $font-size / $step) * $step;
    }

    @include for-tablet-portrait-and-wider {
        $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-tablet-portrait);
        font-size: $font-size;
        line-height: ceil($heading-base-height * $font-size / $step) * $step;
    }

    @include for-tablet-landscape-and-wider {
        $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-tablet-landscape);
        font-size: $font-size;
        line-height: ceil($heading-base-height * $font-size / $step) * $step;
    }

    @include for-desktop-and-wider {
        $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-desktop);
        font-size: $font-size;
        line-height: ceil($heading-base-height * $font-size / $step) * $step;
    }

    @include for-wide-screens {
        $font-size: $heading-base-size * heading-size-multiplier($level, $heading-ratio-widescreen);
        font-size: $font-size;
        line-height: ceil($heading-base-height * $font-size / $step) * $step;
    }
}

h1 {
    @include heading-font-size(1);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

h2 {
    @include heading-font-size(2);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

h3 {
    @include heading-font-size(3);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

h4 {
    @include heading-font-size(4);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

h5 {
    @include heading-font-size(5);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

h6 {
    @include heading-font-size(6);
    margin-bottom: $base-font-size / 2;
    margin-top: $base-font-size / 2;
}

p {
    font-size: $base-font-size;
    line-height: $base-line-height;
}